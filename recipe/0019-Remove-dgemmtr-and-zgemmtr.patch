From 7482ec6fb15d281a8d02a6095fa8220444f24f03 Mon Sep 17 00:00:00 2001
From: Isabel Paredes <isabel.paredes@quantstack.net>
Date: Tue, 24 Jun 2025 14:03:00 +0200
Subject: [PATCH] Remove dgemmtr and zgemmtr

---
 src/extra/blas/Rblas.def        | 2 --
 src/modules/lapack/Makefile.win | 4 ++--
 2 files changed, 2 insertions(+), 4 deletions(-)

diff --git a/src/extra/blas/Rblas.def b/src/extra/blas/Rblas.def
index b2eb43a82f..06ec1d8e1c 100644
--- a/src/extra/blas/Rblas.def
+++ b/src/extra/blas/Rblas.def
@@ -7,7 +7,6 @@ EXPORTS
  ddot_
  dgbmv_
  dgemm_
- dgemmtr_
  dgemv_
  dger_
  dnrm2_
@@ -48,7 +47,6 @@ EXPORTS
  zdscal_
  zgbmv_
  zgemm_
- zgemmtr_
  zgemv_
  zgerc_
  zgeru_
diff --git a/src/modules/lapack/Makefile.win b/src/modules/lapack/Makefile.win
index 7a051718f9..56f5498d95 100644
--- a/src/modules/lapack/Makefile.win
+++ b/src/modules/lapack/Makefile.win
@@ -10,10 +10,10 @@ ifdef USE_IMPLIBS
 endif
 	@$(MAKE) --no-print-directory -f Makefile.win install
 
-CSOURCES = Lapack.c
+CSOURCES =
 # flexiblas not supported on Windows
 OBJS=$(CSOURCES:.c=.o) dllversion.o
-LIBSOURCES = dlamch.f dlapack.f cmplx.f
+LIBSOURCES = dlamch.f
 LIBSOURCES90 = dlartg.f90 dlassq.f90 la_constants.f90 la_xisnan.f90 \
   zlartg.f90 zlassq.f90
 LIBOBJECTS = $(LIBSOURCES:.f=.o) $(LIBSOURCES90:.f90=.o) init_win.o Rlapackrc.o
